<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>Selling Service Client</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
    }
    button, input {
      margin: 10px 0;
      padding: 10px;
      font-size: 16px;
    }
    input {
      width: 300px;
    }
    .section {
      margin-bottom: 30px;
    }
  </style>
</head>
<body>
<h1>ğŸ”— API í…ŒìŠ¤íŠ¸</h1>

<div class="section">
  <h2>ğŸ‘¤ ì‚¬ìš©ì</h2>
  <button onclick="navigate('/api/users/me')">ë‚´ ì •ë³´</button>
  <button onclick="navigate('/api/users/join', 'POST')">íšŒì›ê°€ì…</button>
  <button onclick="navigate('/api/users/me', 'PATCH')">íšŒì› ì •ë³´ ìˆ˜ì •</button>
  <button onclick="navigate('/api/users/me', 'DELETE')">íšŒì› ì‚­ì œ</button>
</div>

<div class="section">
  <h2>â­ ì¦ê²¨ì°¾ê¸°</h2>
  <button onclick="navigate('/api/favorites')">ì¦ê²¨ì°¾ê¸° ëª©ë¡</button>
  <button onclick="navigate('/api/favorites', 'PATCH')">ì¦ê²¨ì°¾ê¸° ìˆ˜ì •</button>
</div>

<div class="section">
  <h2>ğŸ“¦ íŒë§¤ ì •ë³´</h2>
  <button onclick="navigate('/api/infos')">ì „ì²´ íŒë§¤ ëª©ë¡</button>

  <div>
    <button onclick="navigate('/api/infos/market')">ë§ˆì¼“ ê¸°ì¤€ ì •ë ¬</button><br>
    <input type="text" id="marketInput" placeholder="ë§ˆì¼“ ì´ë¦„ ì…ë ¥" />
    <button onclick="searchMarket()">ğŸ” ë§ˆì¼“ ì´ë¦„ìœ¼ë¡œ ê²€ìƒ‰</button>
  </div>

  <div>
    <button onclick="navigate('/api/infos/product')">ìƒí’ˆ ê¸°ì¤€ ì •ë ¬</button><br>
    <input type="text" id="productInput" placeholder="ìƒí’ˆ ì´ë¦„ ì…ë ¥" />
    <button onclick="searchProduct()">ğŸ” ìƒí’ˆ ì´ë¦„ìœ¼ë¡œ ê²€ìƒ‰</button>
  </div>
</div>

<div class="section">
  <h2>ğŸŸ¢ ë„¤ì´ë²„ ë¡œê·¸ì¸</h2>
  <button onclick="navigateToNaverLogin()">ë„¤ì´ë²„ ë¡œê·¸ì¸ ì‹œì‘</button>
</div>

<script>
  function navigate(url, method = 'GET') {
    if (method === 'GET') {
      window.open(url, '_blank');
    } else {
      fetch(url, {
        method: method,
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({})
      })
      .then(res => alert(`${method} ${url} â†’ ìƒíƒœ: ${res.status}`))
      .catch(err => console.error(err));
    }
  }

  function searchMarket() {
    const market = document.getElementById("marketInput").value.trim();
    if (market) {
      navigate(`/api/infos/market/${encodeURIComponent(market)}`);
    } else {
      alert("ë§ˆì¼“ ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!");
    }
  }

  function searchProduct() {
    const product = document.getElementById("productInput").value.trim();
    if (product) {
      navigate(`/api/infos/product/${encodeURIComponent(product)}`);
    } else {
      alert("ìƒí’ˆ ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!");
    }
  }

  function navigateToNaverLogin() {
    const state = 'custom_state_value';
    window.location.href = `/oauth/naver?state=${state}`;
  }
</script>
</body>
</html>
