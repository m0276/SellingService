<!--<!DOCTYPE html>-->
<!--<html lang="ko">-->
<!--<head>-->
<!--  <meta charset="UTF-8">-->
<!--  <title>회원가입</title>-->
<!--</head>-->
<!--<body>-->
<!--<h1>회원가입</h1>-->
<!--<form id="signup-form">-->
<!--  <label for="username">아이디:</label>-->
<!--  <input type="text" id="username" name="username" required /><br><br>-->

<!--  <label for="password">비밀번호:</label>-->
<!--  <input type="password" id="password" name="password" required /><br><br>-->

<!--  <button type="submit">가입하기</button>-->
<!--</form>-->

<!--<p id="response-message" style="color:green;"></p>-->

<!--<script>-->
<!--  const form = document.getElementById("signup-form");-->
<!--  const responseMessage = document.getElementById("response-message");-->

<!--  form.addEventListener("submit", async (e) => {-->
<!--    e.preventDefault();-->

<!--    const username = document.getElementById("username").value;-->
<!--    const password = document.getElementById("password").value;-->

<!--    try {-->
<!--      const res = await fetch("/api/users/join", {-->
<!--        method: "POST",-->
<!--        headers: {-->
<!--          "Content-Type": "application/json"-->
<!--        },-->
<!--        body: JSON.stringify({ username, password })-->
<!--      });-->

<!--      if (res.ok) {-->
<!--        const data = await res.json();-->
<!--        responseMessage.textContent = `회원가입 성공! 환영합니다, ${data.username}`;-->
<!--      } else {-->
<!--        responseMessage.style.color = "red";-->
<!--        responseMessage.textContent = "회원가입 실패. 입력값을 확인해주세요.";-->
<!--      }-->
<!--    } catch (err) {-->
<!--      console.error("회원가입 오류:", err);-->
<!--      responseMessage.style.color = "red";-->
<!--      responseMessage.textContent = "서버 오류 발생!";-->
<!--    }-->
<!--  });-->
<!--</script>-->
<!--</body>-->
<!--</html>-->
<!-- signup.html -->

<!-- signup.html -->
<form id="signupForm">
  <div>
    <label for="username">아이디</label>
    <input type="text" id="username" name="username" required />
  </div>

  <div>
    <label for="email">이메일</label>
    <input type="text" id="email" name="email" required />
  </div>

  <div>
    <label for="password">비밀번호</label>
    <input type="password" id="password" name="password" required />
  </div>

  <button type="submit">회원가입</button>
</form>

<script>
  document.getElementById('signupForm').addEventListener('submit', function (e) {
    e.preventDefault(); // 기본 폼 제출을 막음

    const formData = {
      username: document.getElementById('username').value,
      password: document.getElementById('password').value,
      email: document.getElementById('email').value
    };

    fetch('/api/users/join', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify(formData)
    })
    .then(response => response.json())
    .then(data => {
      console.log('회원가입 성공', data);
      window.location.href = '/login'; // 로그인 페이지로 리다이렉트
    })
    .catch(error => {
      console.error('회원가입 오류', error);
    });
  });
</script>
